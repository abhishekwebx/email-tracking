module.exports=[55554,(a,b,c)=>{"use strict";b.exports=a.r(55470).vendored["react-ssr"].ReactDOM},99558,a=>{"use strict";var b=a.i(21695),c=a.i(18599),d=a.i(86123),e=a.i(51835);function f(){let a=(0,e.useRouter)(),f=(0,e.useSearchParams)().get("id"),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)("");(0,c.useEffect)(()=>{f&&(async()=>{try{let a=await fetch(`/api/templates/${f}`),b=await a.json();if(!a.ok)throw Error(b.error);h(b.title||""),j(b.subject||""),l(b.body||""),n(b.category||"")}catch(a){r(a.message||"Failed to load template")}})()},[f]);let s=async()=>{if(r(""),!g||!i||!k)return void r("All fields are required");p(!0);try{let b=await fetch(f?`/api/templates/${f}`:"/api/templates/create",{method:f?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:g,subject:i,body:k,category:m})}),c=await b.json();if(!b.ok)throw Error(c.error);a.push("/crm/templates")}catch(a){r(a.message)}finally{p(!1)}};return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,b.jsxs)("div",{className:"max-w-5xl mx-auto bg-white shadow-lg rounded-xl p-8",children:[(0,b.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,b.jsx)("h1",{className:"text-2xl font-semibold text-gray-800",children:f?"Edit Email Template":"Create Email Template"})}),q&&(0,b.jsx)("div",{className:"mb-4 bg-red-100 text-red-700 p-3 rounded",children:q}),(0,b.jsxs)("div",{className:"mb-5",children:[(0,b.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Template Name"}),(0,b.jsx)("input",{className:"w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 outline-none",value:g,placeholder:"Enter template name",onChange:a=>h(a.target.value)})]}),(0,b.jsxs)("div",{className:"mb-5",children:[(0,b.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Category"}),(0,b.jsxs)("select",{className:"w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 outline-none",value:m,onChange:a=>n(a.target.value),children:[(0,b.jsx)("option",{value:"",children:"Select Category"}),(0,b.jsx)("option",{value:"Proposal",children:"Proposal"}),(0,b.jsx)("option",{value:"Follow Up",children:"Follow Up"}),(0,b.jsx)("option",{value:"Reminder",children:"Reminder"}),(0,b.jsx)("option",{value:"Thank You",children:"Thank You"})]})]}),(0,b.jsxs)("div",{className:"mb-5",children:[(0,b.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Subject"}),(0,b.jsx)("input",{className:"w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 outline-none",value:i,placeholder:"Enter email subject",onChange:a=>j(a.target.value)})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Email Content"}),(0,b.jsx)(d.default,{body:k,setBody:l})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,b.jsx)("button",{onClick:()=>a.push("/crm/templates"),className:"px-5 py-2 rounded-lg border hover:bg-gray-100",children:"Cancel"}),(0,b.jsx)("button",{onClick:s,disabled:o,className:"px-6 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition",children:o?f?"Updating...":"Saving...":f?"Update Template":"Save Template"})]})]})})}a.s(["default",()=>f])}];

//# sourceMappingURL=Desktop_email-traking%20sainty_email-tracking-next_279de568._.js.map