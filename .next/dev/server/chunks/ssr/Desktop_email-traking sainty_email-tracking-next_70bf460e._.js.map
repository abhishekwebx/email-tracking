{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/hp/Desktop/email-traking%20sainty/email-tracking-next/app/crm/send/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport \"./send-email.css\";\nimport AuthGuard from \"@/components/AuthGuard\";\nimport AdvanceEmailBuilder from \"./advanceEmailEditor\";\nimport { useRouter } from \"next/navigation\";\nimport EmailEditor from \"react-email-editor\";\n\ninterface SendEmailProps {\n  emailId?: string;\n}\n\nexport default function SendEmail({ emailId }: SendEmailProps) {\n  const router = useRouter();\n\n  const [to, setTo] = useState<string[]>([]);\n  const [inputValue, setInputValue] = useState(\"\");\n\n  const [subject, setSubject] = useState(\"\");\n  const [body, setBody] = useState(\"\");\n  const [senderName, setSenderName] = useState(\"\");\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState(false);\n\n  const [draftId, setDraftId] = useState<string | null>(emailId || null);\n\n  // Load logged-in user\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n    setSenderName(user?.email || \"\");\n  }, []);\n\n  // Load draft if emailId is present\n  useEffect(() => {\n    if (!emailId) return;\n\n    const loadDraft = async () => {\n      try {\n        const res = await fetch(`/api/emails/${emailId}`, {\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n        });\n        const data = await res.json();\n        if (!res.ok) throw new Error(data.error);\n\n        setTo(data.to || []);\n        setSubject(data.subject || \"\");\n        setBody(data.body || \"\");\n        setSenderName(data.senderName || \"\");\n        setDraftId(data._id);\n      } catch (err) {\n        console.error(\"Draft load error\", err);\n      }\n    };\n\n    loadDraft();\n  }, [emailId]);\n\n  // Email validation\n  const isValidEmail = (email: string) =>\n    /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n\n  const addEmail = (email: string) => {\n    email = email.trim();\n    if (!isValidEmail(email)) {\n      setError(\"Invalid email format\");\n      return;\n    }\n    if (!to.includes(email)) setTo([email, ...to]);\n    setInputValue(\"\");\n    setError(null);\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === \"Enter\" && inputValue.trim()) {\n      e.preventDefault();\n      addEmail(inputValue);\n    }\n  };\n\n  const removeEmail = (email: string) => {\n    setTo(to.filter((e) => e !== email));\n  };\n\n  const handlePaste = (e: React.ClipboardEvent<HTMLInputElement>) => {\n    const paste = e.clipboardData.getData(\"text\");\n    const emails = paste.split(/[,;\\s]+/);\n    emails.forEach((email) => {\n      if (isValidEmail(email) && !to.includes(email))\n        setTo((prev) => [email, ...prev]);\n    });\n    e.preventDefault();\n  };\n\n  const isFormValid = () =>\n    to.length > 0 && subject.trim() !== \"\" && body.trim() !== \"\";\n\n  // Save draft\n  const saveAsDraft = async () => {\n    setLoading(true);\n    setError(null);\n    setSuccess(false);\n\n    try {\n      const res = await fetch(\"/api/draft\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n        body: JSON.stringify({\n          id: draftId,\n          senderName,\n          to,\n          subject,\n          body,\n        }),\n      });\n\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error);\n\n      setDraftId(data._id); // save new draft ID if created\n      router.push(\"/crm/draft-mail\");\n      setSuccess(true);\n    } catch (err: any) {\n      setError(err.message || \"Failed to save draft\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Send email\n  const sendEmail = async () => {\n    if (!isFormValid()) {\n      setError(\"All fields are required\");\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n    setSuccess(false);\n\n    try {\n      const res = await fetch(\"/api/send\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n        body: JSON.stringify({\n          id: draftId,\n          to,\n          subject,\n          body,\n          senderName,\n        }),\n      });\n\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error);\n\n      setSuccess(true);\n      setTo([]);\n      setSubject(\"\");\n      setBody(\"\");\n      setDraftId(null); // email sent, reset draftId\n    } catch (err: any) {\n      setError(err.message || \"Failed to send email\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <AuthGuard>\n      <div className=\"container\">\n        <div className=\"card\">\n          <h1>Send Email</h1>\n          <p className=\"subtitle\">Track opens in real-time</p>\n\n          {error && <div className=\"error\">{error}</div>}\n          {success && (\n            <div className=\"success\">Email saved/sent successfully!</div>\n          )}\n\n          <label>To</label>\n          <div className=\"email-wrapper\">\n            {to.map((email) => (\n              <span key={email} className=\"chip\">\n                {email}\n                <button onClick={() => removeEmail(email)}>Ã—</button>\n              </span>\n            ))}\n            <input\n              type=\"email\"\n              placeholder=\"Type email & press Enter\"\n              value={inputValue}\n              onChange={(e) => setInputValue(e.target.value)}\n              onKeyDown={handleKeyDown}\n              onPaste={handlePaste}\n            />\n          </div>\n\n          <label>Subject</label>\n          <input\n            value={subject}\n            placeholder=\"Enter subject\"\n            onChange={(e) => setSubject(e.target.value)}\n          />\n\n          <label>Message</label>\n          {/* <AdvanceEmailBuilder body={body} setBody={setBody} /> */}\n          <EmailEditor body={body} setBody={setBody} />\n\n          <button\n            className=\"send-button ml-2\"\n            disabled={loading && !to.length}\n            onClick={saveAsDraft}\n          >\n            {loading ? \"Saving...\" : \"Save Email as Draft\"}\n          </button>\n\n          <button\n            className=\"send-button\"\n            disabled={!isFormValid()}\n            onClick={sendEmail}\n          >\n            {loading && isFormValid() ? \"Sending...\" : \"Send Email\"}\n          </button>\n        </div>\n      </div>\n    </AuthGuard>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 320, "column": 0}, "map": {"version":3,"sources":["file:///home/hp/Desktop/email-traking%20sainty/email-tracking-next/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,0OAAO,EAAC,IAAA,iNAAI,EAAC;AACtB"}},
    {"offset": {"line": 335, "column": 0}, "map": {"version":3,"sources":["file:///home/hp/Desktop/email-traking%20sainty/email-tracking-next/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,kTAAC;QACC,aAAU;QACV,WAAW,IAAA,sLAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,kTAAC;QACC,aAAU;QACV,WAAW,IAAA,sLAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,kTAAC;QACC,aAAU;QACV,WAAW,IAAA,sLAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,kTAAC;QACC,aAAU;QACV,WAAW,IAAA,sLAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,kTAAC;QACC,aAAU;QACV,WAAW,IAAA,sLAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,kTAAC;QACC,aAAU;QACV,WAAW,IAAA,sLAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,kTAAC;QACC,aAAU;QACV,WAAW,IAAA,sLAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 437, "column": 0}, "map": {"version":3,"sources":["file:///home/hp/Desktop/email-traking%20sainty/email-tracking-next/app/crm/dashboard/preview/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"next/navigation\";\nimport AuthGuard from \"@/components/AuthGuard\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Eye, MousePointerClick, MailCheck } from \"lucide-react\";\n\ninterface EmailDetails {\n  _id: string;\n  to: string;\n  subject: string;\n  body: string;\n  sentAt: string;\n  opened: boolean;\n  openCount: number;\n  clickCount: number;\n}\ninterface SendEmailProps {\n  emailId?: string;\n}\n\n\nexport default function EmailDetailsPage() {\n  const { id } = useParams();\n\n  const [email, setEmail] = useState<EmailDetails | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchEmail = async () => {\n      const res = await fetch(`/api/emails/${id}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      });\n      const data = await res.json();\n      setEmail(data);\n      setLoading(false);\n    };\n    if (id) fetchEmail();\n  }, [id]);\n\n  if (loading) {\n    return (\n      <div className=\"flex h-[60vh] items-center justify-center text-xl font-semibold text-muted-foreground\">\n        Loading Email...\n      </div>\n    );\n  }\n\n  if (!email) return <p>Email not found</p>;\n\n  return (\n    <AuthGuard>\n      <main className=\"p-6 md:p-10 max-w-6xl mx-auto space-y-8\">\n        {/* Header */}\n        <header>\n          <h1 className=\"text-3xl font-bold tracking-tight\">Email Details</h1>\n          <p className=\"text-muted-foreground\">\n            Complete activity and message preview\n          </p>\n        </header>\n\n        {/* Stats */}\n        <section className=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n          <StatCard\n            title=\"Open Count\"\n            value={email.openCount}\n            icon={<Eye />}\n            gradient=\"from-green-500 to-emerald-500\"\n          />\n\n          <StatCard\n            title=\"Click Count\"\n            value={email.clickCount}\n            icon={<MousePointerClick />}\n            gradient=\"from-pink-500 to-rose-500\"\n          />\n\n          <StatCard\n            title=\"Delivery\"\n            value=\"Sent\"\n            icon={<MailCheck />}\n            gradient=\"from-blue-500 to-indigo-500\"\n          />\n        </section>\n        {/* Top Info Card */}\n        <Card className=\"rounded-2xl shadow-sm\">\n          <CardContent className=\"p-6 space-y-3\">\n            <div className=\"grid md:grid-cols-2 gap-4 text-sm\">\n              <Info label=\"Recipient\" value={email.to.map((e) => e).join(\", \")} />\n              <Info label=\"Subject\" value={email.subject} />\n              <Info\n                label=\"Sent At\"\n                value={new Date(email.sentAt).toLocaleString(\"en-IN\", {\n                  day: \"2-digit\",\n                  month: \"short\",\n                  year: \"numeric\",\n                  hour: \"2-digit\",\n                  minute: \"2-digit\",\n                  hour12: true,\n                })}\n              />\n\n              <div>\n                <p className=\"text-muted-foreground text-xs\">Status</p>\n\n                <span\n                  className={`inline-block mt-1 px-3 py-1 rounded-full text-xs font-semibold ${\n                    email.opened\n                      ? \"bg-green-100 text-green-700\"\n                      : \"bg-gray-200 text-gray-600\"\n                  }`}\n                >\n                  {email.opened ? \"Opened\" : \"Pending\"}\n                </span>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Email Preview */}\n        <Card className=\"rounded-2xl shadow-sm\">\n          <CardContent className=\"p-6\">\n            <h2 className=\"text-lg font-semibold mb-4\">Email Preview</h2>\n\n            <div className=\"border rounded-xl p-5 bg-muted/30 prose max-w-none\">\n              <div dangerouslySetInnerHTML={{ __html: email.body }} />\n            </div>\n          </CardContent>\n        </Card>\n      </main>\n    </AuthGuard>\n  );\n}\n\n/* ---------------- Small Components ---------------- */\n\nfunction Info({ label, value }: { label: string; value: string }) {\n  return (\n    <div>\n      <p\n        className=\"text-muted-foreground text-xs\"\n        style={{ marginBottom: \"5px\" }}\n      >\n        {label}\n      </p>\n      <p className=\"font-medium\">{value}</p>\n    </div>\n  );\n}\n\nfunction StatCard({\n  title,\n  value,\n  icon,\n  gradient,\n}: {\n  title: string;\n  value: string | number;\n  icon: React.ReactNode;\n  gradient: string;\n}) {\n  return (\n    <Card className=\"rounded-2xl shadow-sm hover:shadow-md transition\">\n      <CardContent className=\"p-6 flex items-center gap-4\">\n        <div\n          className={`p-3 rounded-xl text-white bg-gradient-to-br ${gradient}`}\n        >\n          {icon}\n        </div>\n\n        <div>\n          <p className=\"text-sm text-muted-foreground\">{title}</p>\n          <p className=\"text-2xl font-bold\">{value}</p>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 784, "column": 0}, "map": {"version":3,"sources":["file:///home/hp/Desktop/email-traking%20sainty/email-tracking-next/app/crm/send/%5Bid%5D/page.tsx"],"sourcesContent":["\n\"use client\";\nimport AuthGuard from \"@/components/AuthGuard\";\nimport { useParams } from \"next/navigation\";\nimport SendEmail from \"../page\";\nimport EmailDetailsPage from \"../../dashboard/preview/page\";\n\nexport default function EditEmail() {\n  const params = useParams();\n  const route = sessionStorage.getItem(\"route\");\n\n  return (\n    <AuthGuard>\n      {route !== \"/crm/dashboard\" && <SendEmail emailId={params?.id as string} />}\n      {route === \"/crm/dashboard\" && (\n        <EmailDetailsPage emailId={params?.id as string} />\n      )}\n    </AuthGuard>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAJA;;;;;;AAMe,SAAS;IACtB,MAAM,SAAS,IAAA,mNAAS;IACxB,MAAM,QAAQ,eAAe,OAAO,CAAC;IAErC,qBACE,kTAAC,uMAAS;;YACP,UAAU,kCAAoB,kTAAC,0MAAS;gBAAC,SAAS,QAAQ;;;;;;YAC1D,UAAU,kCACT,kTAAC,0NAAgB;gBAAC,SAAS,QAAQ;;;;;;;;;;;;AAI3C"}}]
}