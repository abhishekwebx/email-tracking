{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///home/hp/Desktop/email-traking-git/email-tracking/lib/sanity.ts"],"sourcesContent":["import { createClient } from \"@sanity/client\";\n\nexport const sanity = createClient({\n  projectId: process.env.NEXT_PUBLIC_SANITY_PROJECT_ID!,\n  dataset: 'production',\n  apiVersion: '2024-01-01',\n  token: process.env.SANITY_API_TOKEN,\n  useCdn: false,\n})\n\n\n// async function deleteAllEmails() {\n//   try {\n//     // GROQ query to fetch all email _id's\n//     const emails = await sanity.fetch(`*[_type == \"emails\"]{_id}`);\n    \n//     // Delete all emails\n//     const deletePromises = emails.map((email: { _id: any; }) => sanity.delete(email._id));\n//     await Promise.all(deletePromises);\n\n//     console.log('All emails deleted successfully!');\n//   } catch (err) {\n//     console.error('Error deleting emails:', err);\n//   }\n// }\n\n// deleteAllEmails();\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,SAAS,IAAA,gMAAY,EAAC;IACjC,SAAS;IACT,SAAS;IACT,YAAY;IACZ,OAAO,QAAQ,GAAG,CAAC,gBAAgB;IACnC,QAAQ;AACV,GAGA,qCAAqC;CACrC,UAAU;CACV,6CAA6C;CAC7C,sEAAsE;CAEtE,2BAA2B;CAC3B,6FAA6F;CAC7F,yCAAyC;CAEzC,uDAAuD;CACvD,oBAAoB;CACpB,oDAAoD;CACpD,MAAM;CACN,IAAI;CAEJ,qBAAqB"}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///home/hp/Desktop/email-traking-git/email-tracking/app/api/getdraft/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { sanity } from \"@/lib/sanity\";\n\n// GET -> Fetch Drafts OR Single Draft\nexport async function GET(req: NextRequest) {\n  try {\n    const id = req.nextUrl.searchParams.get(\"id\");\n\n    // ðŸ‘‰ Get Single Draft\n    if (id) {\n      const draft = await sanity.fetch(\n        `*[_type == \"emails\" && _id == $id][0]`,\n        { id }\n      );\n\n      if (!draft) {\n        return NextResponse.json(\n          { error: \"Draft not found\" },\n          { status: 404 }\n        );\n      }\n\n      return NextResponse.json(draft);\n    }\n\n    // ðŸ‘‰ Get All Drafts\n    const drafts = await sanity.fetch(`\n      *[_type == \"emails\" && status == \"draft\"] \n      | order(_createdAt desc)\n    `);\n\n    return NextResponse.json(drafts);\n  } catch (error) {\n    return NextResponse.json(\n      { error: \"Failed to fetch drafts\" },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,eAAe,IAAI,GAAgB;IACxC,IAAI;QACF,MAAM,KAAK,IAAI,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC;QAExC,sBAAsB;QACtB,IAAI,IAAI;YACN,MAAM,QAAQ,MAAM,yHAAM,CAAC,KAAK,CAC9B,CAAC,qCAAqC,CAAC,EACvC;gBAAE;YAAG;YAGP,IAAI,CAAC,OAAO;gBACV,OAAO,gJAAY,CAAC,IAAI,CACtB;oBAAE,OAAO;gBAAkB,GAC3B;oBAAE,QAAQ;gBAAI;YAElB;YAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;QAC3B;QAEA,oBAAoB;QACpB,MAAM,SAAS,MAAM,yHAAM,CAAC,KAAK,CAAC,CAAC;;;IAGnC,CAAC;QAED,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAyB,GAClC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}