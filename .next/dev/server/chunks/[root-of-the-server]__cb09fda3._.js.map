{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///home/hp/Desktop/email-traking%20sainty/email-tracking-next/lib/sanity.ts"],"sourcesContent":["import { createClient } from \"@sanity/client\";\n\n// export const sanity = createClient({\n//   projectId: 'lgzekbmp',\n//   dataset: \"production\",\n//   apiVersion: \"2024-01-01\",\n//   useCdn: false,\n//   token: 'sk8SI0h8a7NRypPIhe36dNQhZJWuS0Do22aKeFwLo4EKbUl9ihHeI3zhXyP9OKkZCDIZ6C2jkCXFcc9t8DMctKvF7jHqghh0Nu1NsP1LeT87OAyKhGGzWyRvidBu4GGpBRXRnHWECSQy3P28l5S6Io56kzHIXtahUCH9eT7mT9Ew7SzIxujV',\n// });\n\n\n\nexport const sanity = createClient({\n  projectId: process.env.NEXT_PUBLIC_SANITY_PROJECT_ID!,\n  dataset: 'production',\n  apiVersion: '2024-01-01',\n  token: process.env.SANITY_API_TOKEN,\n  useCdn: false,\n})\n"],"names":[],"mappings":";;;;AAAA;;AAYO,MAAM,SAAS,IAAA,oQAAY,EAAC;IACjC,SAAS;IACT,SAAS;IACT,YAAY;IACZ,OAAO,QAAQ,GAAG,CAAC,gBAAgB;IACnC,QAAQ;AACV"}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///home/hp/Desktop/email-traking%20sainty/email-tracking-next/app/api/draft/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport { sanity } from \"@/lib/sanity\";\nimport { v4 as uuid } from \"uuid\";\n\nexport async function POST(req: Request) {\n  const body = await req.json();\n\n  const { id, to, subject, body: message, senderName } = body;\n\n  try {\n    // UPDATE Draft\n    if (id) {\n      await sanity.patch(id).set({\n        to,\n        subject,\n        body: message,\n        senderName,\n        updatedAt: new Date().toISOString(),\n      }).commit();\n\n      return NextResponse.json({ success: true });\n    }\n\n    // CREATE Draft\n    const draft = await sanity.create({\n      _type: \"emails\",\n      to,\n      subject,\n      body: message,\n      senderName,\n      status: \"draft\",\n      createdAt: new Date().toISOString(),\n    });\n\n    return NextResponse.json(draft);\n  } catch (err) {\n    return NextResponse.json({ error: \"Draft save failed\" }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,eAAe,KAAK,GAAY;IACrC,MAAM,OAAO,MAAM,IAAI,IAAI;IAE3B,MAAM,EAAE,EAAE,EAAE,EAAE,EAAE,OAAO,EAAE,MAAM,OAAO,EAAE,UAAU,EAAE,GAAG;IAEvD,IAAI;QACF,eAAe;QACf,IAAI,IAAI;YACN,MAAM,6LAAM,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC;gBACzB;gBACA;gBACA,MAAM;gBACN;gBACA,WAAW,IAAI,OAAO,WAAW;YACnC,GAAG,MAAM;YAET,OAAO,oNAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAAK;QAC3C;QAEA,eAAe;QACf,MAAM,QAAQ,MAAM,6LAAM,CAAC,MAAM,CAAC;YAChC,OAAO;YACP;YACA;YACA,MAAM;YACN;YACA,QAAQ;YACR,WAAW,IAAI,OAAO,WAAW;QACnC;QAEA,OAAO,oNAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,KAAK;QACZ,OAAO,oNAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAoB,GAAG;YAAE,QAAQ;QAAI;IACzE;AACF"}}]
}