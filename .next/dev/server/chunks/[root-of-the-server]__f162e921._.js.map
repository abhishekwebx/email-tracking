{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///home/hp/Desktop/email-traking%20sainty/email-tracking-next/app/sanity/client.ts"],"sourcesContent":["import { createClient } from \"@sanity/client\";\n\nexport const client = createClient({\n  projectId: \"lgzekbmp\",\n  dataset: \"production\",\n  apiVersion: \"v2026-01-28\",\n  token: process.env.SANITY_API_TOKEN,\n  useCdn: true,\n});\n\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,SAAS,IAAA,oQAAY,EAAC;IACjC,WAAW;IACX,SAAS;IACT,YAAY;IACZ,OAAO,QAAQ,GAAG,CAAC,gBAAgB;IACnC,QAAQ;AACV"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///home/hp/Desktop/email-traking%20sainty/email-tracking-next/app/api/auth/login/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport bcrypt from \"bcryptjs\";\nimport jwt from \"jsonwebtoken\";\nimport { client } from \"@/app/sanity/client\";\nexport async function POST(req: Request) {\n  try {\n    const { identifier, password } = await req.json();\n    // identifier = email OR userId\n\n    if (!identifier || !password) {\n      return NextResponse.json(\n        { success: false, message: \"Missing credentials\" },\n        { status: 400 }\n      );\n    }\n\n    const user = await client.fetch(\n      `*[_type == \"user\" && (email == $id || userId == $id)][0]`,\n      { id: identifier }\n    );\n\n    if (!user) {\n      return NextResponse.json(\n        { success: false, message: \"User not found\" },\n        { status: 404 }\n      );\n    }\n\n    const isValid = await bcrypt.compare(password, user.password);\n\n    if (!isValid) {\n      return NextResponse.json(\n        { success: false, message: \"Invalid password\" },\n        { status: 401 }\n      );\n    }\n\n    const token = jwt.sign(\n      { userId: user._id, email: user.email },\n      process.env.JWT_SECRET!,\n      { expiresIn: \"1d\" }\n    );\n\n    return NextResponse.json({\n      success: true,\n      token,\n      user: {\n        id: user._id,\n        email: user.email,\n        userId: user.userId,\n      },\n    });\n  } catch (error) {\n    console.error(\"LOGIN ERROR:\", error);\n    return NextResponse.json(\n      { success: false, message: \"Server error\" },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AACO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;QAC/C,+BAA+B;QAE/B,IAAI,CAAC,cAAc,CAAC,UAAU;YAC5B,OAAO,oNAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAAsB,GACjD;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,OAAO,MAAM,uMAAM,CAAC,KAAK,CAC7B,CAAC,wDAAwD,CAAC,EAC1D;YAAE,IAAI;QAAW;QAGnB,IAAI,CAAC,MAAM;YACT,OAAO,oNAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAAiB,GAC5C;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,UAAU,MAAM,kNAAM,CAAC,OAAO,CAAC,UAAU,KAAK,QAAQ;QAE5D,IAAI,CAAC,SAAS;YACZ,OAAO,oNAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAAmB,GAC9C;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,QAAQ,sNAAG,CAAC,IAAI,CACpB;YAAE,QAAQ,KAAK,GAAG;YAAE,OAAO,KAAK,KAAK;QAAC,GACtC,QAAQ,GAAG,CAAC,UAAU,EACtB;YAAE,WAAW;QAAK;QAGpB,OAAO,oNAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT;YACA,MAAM;gBACJ,IAAI,KAAK,GAAG;gBACZ,OAAO,KAAK,KAAK;gBACjB,QAAQ,KAAK,MAAM;YACrB;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gBAAgB;QAC9B,OAAO,oNAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,SAAS;QAAe,GAC1C;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}