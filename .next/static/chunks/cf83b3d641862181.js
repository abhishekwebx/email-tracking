(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,92927,(e,t,a)=>{t.exports=e.r(10351)},21173,e=>{"use strict";var t=e.i(44589),a=e.i(84576),r=e.i(92927);function s(){let e=(0,r.useRouter)(),[s,l]=(0,a.useState)(""),[o,i]=(0,a.useState)(""),[n,d]=(0,a.useState)(""),u=async()=>{if(d(""),!s||!o)return void d("Email and password are required");try{let t=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:o})}),a=await t.json();if(!t.ok)throw Error(a.error||"Login failed");localStorage.setItem("user",JSON.stringify({userId:a._id,email:a.email,role:a.role})),document.cookie=`token=${a.token}; path=/`,e.push("/crm/admin")}catch(e){d(e.message||"Login failed")}};return(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,t.jsxs)("div",{className:"bg-white p-8 rounded shadow w-full max-w-md",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Admin Login"}),n&&(0,t.jsx)("p",{className:"text-red-500 mb-4",children:n}),(0,t.jsx)("input",{type:"email",placeholder:"Email",value:s,onChange:e=>l(e.target.value),className:"w-full p-2 border rounded mb-4"}),(0,t.jsx)("input",{type:"password",placeholder:"Password",value:o,onChange:e=>i(e.target.value),className:"w-full p-2 border rounded mb-4"}),(0,t.jsx)("button",{onClick:u,className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Login"})]})})}e.s(["default",()=>s])}]);